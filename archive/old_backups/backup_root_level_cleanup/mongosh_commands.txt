# MongoDB Shell Commands for Language Testing
# Copy and paste these one by one into mongosh

# 1. Check available platforms
db.actor_metric.distinct("platform")

# 2. Check total posts
db.post.countDocuments({})

# 3. Check language field distribution (top 20)
db.post.aggregate([
  {$group: {_id: "$lang", count: {$sum: 1}}},
  {$sort: {count: -1}},
  {$limit: 20}
])

# 4. Test target language filtering
db.post.countDocuments({lang: {$in: ["da", "de", "sv"]}})

# 5. Test regex filtering  
db.post.countDocuments({lang: {$regex: "^(da|de|sv)", $options: "i"}})

# 6. Check specific platforms (replace 'twitter' with actual platform names)
db.post.countDocuments({platform: "twitter"})
db.post.countDocuments({platform: "twitter", lang: {$in: ["da", "de", "sv"]}})

# 7. Sample documents to see structure
db.post.findOne({platform: "twitter"})

# 8. Check if there are nested language fields
db.post.findOne({}, {author: 1, entities: 1, source: 1, method: 1, lang: 1})
